<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GrowAGarden Plant Cost Calculator</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #121212;
      color: #ffffff;
      margin: 0;
      padding: 2rem;
    }
    label, select, input {
      display: block;
      margin-bottom: 1rem;
    }
    select, input {
      padding: 0.5rem;
      font-size: 1rem;
      background-color: #1e1e1e;
      color: #ffffff;
      border: 1px solid #444;
      border-radius: 0.5rem;
    }
    .output {
      margin-top: 2rem;
      font-size: 1.5rem;
      color: #90ee90;
    }
  </style>
</head>
<body>
  <h1>🌱 GrowAGarden Plant Cost Calculator</h1>

<label for="plant">🌿 Plant Type</label>
    <select id="plant">
      <option value="apple">🍎 Apple</option>
      <option value="banana">🍌 Banana</option>
      <option value="bamboo">🎋 Bamboo</option>
      <option value="beanstalk">🪴 Beanstalk</option>
      <option value="blood banana">🩸🍌 Blood Banana</option>
      <option value="blueberry">🫐 Blueberry</option>
      <option value="cacao">🍫 Cacao</option>
      <option value="cactus">🌵 Cactus</option>
      <option value="carrot">🥕 Carrot</option>
      <option value="cherry blossom">🌸 Cherry Blossom</option>
      <option value="coconut">🥥 Coconut</option>
      <option value="corn">🌽 Corn</option>
      <option value="cranberry">🍒 Cranberry</option>
      <option value="daffodil">🌼 Daffodil</option>
      <option value="dragonfruit">🐉🍉 Dragonfruit</option>
      <option value="durian">💀 Durian</option>
      <option value="eggplant">🍆 Eggplant</option>
      <option value="glowshroom">🍄 Glowshroom</option>
      <option value="grape">🍇 Grape</option>
      <option value="lemon">🍋 Lemon</option>
      <option value="mango">🥭 Mango</option>
      <option value="mint">🌿 Mint</option>
      <option value="moon blossom">🌙🌸 Moon Blossom</option>
      <option value="moonglow">🌙✨ Moonglow</option>
      <option value="moon mango">🌙🥭 Moon Mango</option>
      <option value="moon melon">🌙🍈 Moon Melon</option>
      <option value="moonflower">🌙🌼 Moonflower</option>
      <option value="mushroom">🍄 Mushroom</option>
      <option value="nightshade">🌑 Nightshade</option>
      <option value="orangetulip">🌷 Orange Tulip</option>
      <option value="papaya">🍈 Papaya</option>
      <option value="passionfruit">❤️‍🔥 Passionfruit</option>
      <option value="peach">🍑 Peach</option>
      <option value="pear">🍐 Pear</option>
      <option value="pepper">🌶️ Pepper</option>
      <option value="pineapple">🍍 Pineapple</option>
      <option value="pumpkin">🎃 Pumpkin</option>
      <option value="raspberry">🍓 Raspberry</option>
      <option value="soulfruit">👻 Soulfruit</option>
      <option value="starfruit">🌟 Starfruit</option>
      <option value="strawberry">🍓 Strawberry</option>
      <option value="tomato">🍅 Tomato</option>
      <option value="venus fly trap">🪰 Venus Fly Trap</option>
      <option value="watermelon">🍉 Watermelon</option>
    </select>

<label for="mutation">🧬 Growth Mutation</label>
    <select id="mutation">
      <option value="1">None</option>
      <option value="20">Golden ✨</option>
      <option value="50">Rainbow 🌈</option>
    </select>

    <fieldset>
      <legend>🌍 Environmental Stacks</legend>
      <label class="env-label"><input type="checkbox" value="1" /> Wet 💧</label>
      <label class="env-label"><input type="checkbox" value="1" /> Chilled 🧊</label>
      <label class="env-label"><input type="checkbox" value="1" /> Chocolate 🍫</label>
      <label class="env-label"><input type="checkbox" value="1" /> Moonlit 🌙</label>
      <label class="env-label"><input type="checkbox" value="3" /> Bloodlit 🩸</label>
      <label class="env-label"><input type="checkbox" value="5" /> Plasma ⚡</label>
      <label class="env-label"><input type="checkbox" value="9" /> Frozen ❄️</label>
      <label class="env-label"><input type="checkbox" value="24" /> Zombified 🧟‍♂️</label>
      <label class="env-label"><input type="checkbox" value="30" /> Twisted 🌀</label>
      <label class="env-label"><input type="checkbox" value="50" /> Rainbow 🌈</label>
      <label class="env-label"><input type="checkbox" value="99" /> Shocked ⚡</label>
      <label class="env-label"><input type="checkbox" value="119" /> Celestial ✨</label>
      <label class="env-label"><input type="checkbox" value="124" /> Disco 💃</label>
    </fieldset>
  <label for="weight">⚖️ Input Weight (kg)</label>
  <input type="number" id="weight" placeholder="e.g. 0.17" step="0.01" />

  <div class="output" id="result">💰 Total Value: 0 Sheckles</div>

  <script>
    const plantBaseValues = {
      "apple": 248,
      "banana": 1579,
      "bamboo": 3610,
      "beanstalk": 18050,
      "blood banana": 5415,
      "blueberry": 18,
      "cactus": 3068,
      "cacao": 9928,
      "carrot": 18,
      "cherry blossom": 550,
      "corn": 36,
      "cranberry": 1805,
      "coconut": 361,
      "cursed fruit": 15000,
      "candy blossom": 93567,
      "candy sunflower": 145000,
      "daffodil": 903,
      "dragonfruit": 4287,
      "durian": 4513,
      "eggplant": 6769,
      "easter egg": 4513,
      "glowshroom": 175,
      "grape": 7085,
      "lemon": 500,
      "mango": 5866,
      "mint": 0,
      "moon mango": 22563,
      "moon blossom": 45125,
      "moon melon": 16245,
      "moonflower": 8500,
      "moonglow": 18000,
      "mushroom": 136278,
      "nightshade": 2000,
      "orange tulip": 767,
      "papaya": 1000,
      "passionfruit": 3204,
      "peach": 271,
      "pear": 500,
      "pepper": 7220,
      "pineapple": 1805,
      "pumpkin": 3700,
      "raspberry": 90,
      "soulfruit": 3000,
      "starfruit": 15538,
      "strawberry": 14,
      "tomato": 27,
      "venus fly trap": 17000,
      "watermelon": 2708
    };

    const mutations = {
      "Wet": 1,
      "Chilled": 1,
      "Chocolate": 1,
      "Moonlit": 1,
      "Bloodlit": 3,
      "Plasma": 4,
      "Frozen": 9,
      "Zombified": 24,
      "Shocked": 99,
      "Celestial": 119,
      "Disco": 124
    };

    const plantSelect = document.getElementById("plant");
    Object.keys(plantBaseValues).sort().forEach(p => {
      const option = document.createElement("option");
      option.value = p;
      option.textContent = p.charAt(0).toUpperCase() + p.slice(1);
      plantSelect.appendChild(option);
    });

    const mutationSelect = document.getElementById("mutations");
    Object.entries(mutations).forEach(([key, val]) => {
      const option = document.createElement("option");
      option.value = key;
      option.textContent = key + ` (+${val})`;
      mutationSelect.appendChild(option);
    });

    document.querySelectorAll("#plant, #mutations, #growth, #weight").forEach(el => {
      el.addEventListener("input", updateValue);
    });

    function updateValue() {
      const plant = plantSelect.value;
      const base = plantBaseValues[plant] || 0;
      const weight = parseFloat(document.getElementById("weight").value || 1);
      const growth = parseFloat(document.getElementById("growth").value || 1);

      const selectedMutations = Array.from(mutationSelect.selectedOptions).map(opt => opt.value);
      let stack = 0;

      const envTypeCounts = {
        Wet: 0,
        Chilled: 0,
        Frozen: 0
      };

      selectedMutations.forEach(m => {
        if (["Wet", "Chilled", "Frozen"].includes(m)) {
          envTypeCounts[m]++;
        }
        stack += mutations[m] || 0;
      });

      // Enforce one of Wet/Chilled/Frozen rule
      if (envTypeCounts.Frozen > 0) {
        stack -= envTypeCounts.Wet * mutations["Wet"];
        stack -= envTypeCounts.Chilled * mutations["Chilled"];
      } else if (envTypeCounts.Wet > 0 && envTypeCounts.Chilled > 0) {
        stack -= envTypeCounts.Chilled * mutations["Chilled"];
      }

      const total = Math.round(base * growth * (1 + stack) * weight);
      document.getElementById("result").textContent = `💰 Total Value: ${total.toLocaleString()} Sheckles`;
    }
  </script>
</body>
</html>
