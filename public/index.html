<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>GrowAGarden Calculator</title>
<style>
  body {
    background: #e6f9ee;
    font-family: 'Segoe UI', sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 2em;
  }
  h1 {
    color: #248f50;
    font-size: 2rem;
  }
  .calculator {
    background: white;
    padding: 1.5em;
    border-radius: 1em;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    max-width: 400px;
    width: 100%;
  }
  label {
    display: block;
    margin: 0.75em 0 0.25em;
    font-weight: bold;
  }
  input, select, button {
    width: 100%;
    padding: 0.6em;
    margin-bottom: 1em;
    border: 1px solid #ccc;
    border-radius: 0.4em;
    font-size: 1em;
  }
  button {
    background-color: #31a76d;
    color: white;
    border: none;
    cursor: pointer;
    transition: background 0.2s ease;
  }
  button:hover {
    background-color: #278e5a;
  }
  .result {
    font-size: 1.3em;
    font-weight: bold;
    color: #333;
    margin-top: 1em;
  }
</style>
</head>
<body>

<h1>ğŸŒ± GrowAGarden Calculator</h1>
<div class="calculator">
  <label for="plant">Plant Type</label>
  <select id="plant">
    <option value="apple">Apple</option>
    <option value="banana">Banana</option>
    <option value="bamboo">Bamboo</option>
    <option value="beanstalk">Beanstalk</option>
    <option value="blood banana">Blood Banana</option>
    <option value="blueberry">Blueberry</option>
    <option value="cactus">Cactus</option>
    <option value="cacao">Cacao</option>
    <option value="carrot">Carrot</option>
    <option value="corn">Corn</option>
    <option value="cranberry">Cranberry</option>
    <option value="coconut">Coconut</option>
    <option value="daffodil">Daffodil</option>
    <option value="dragonfruit">Dragonfruit</option>
    <option value="durian">Durian</option>
    <option value="eggplant">Eggplant</option>
    <option value="glowshroom">Glowshroom</option>
    <option value="grape">Grape</option>
    <option value="mango">Mango</option>
    <option value="moon blossom">Moon Blossom</option>
    <option value="moon melon">Moon Melon</option>
    <option value="moonflower">Moonflower</option>
    <option value="mushroom">Mushroom</option>
    <option value="nightshade">Nightshade</option>
    <option value="orangetulip">Orange Tulip</option>
    <option value="papaya">Papaya</option>
    <option value="passionfruit">Passionfruit</option>
    <option value="pear">Pear</option>
    <option value="peach">Peach</option>
    <option value="pepper">Pepper</option>
    <option value="pumpkin">Pumpkin</option>
    <option value="raspberry">Raspberry</option>
    <option value="soulfruit">Soulfruit</option>
    <option value="strawberry">Strawberry</option>
    <option value="tomato">Tomato</option>
    <option value="watermelon">Watermelon</option>
  </select>

  <label for="modifiers">Modifiers (hold Ctrl/Cmd to select multiple)</label>
  <select id="modifiers" multiple size="6">
    <option value="rainbow">ğŸŒˆ Rainbow</option>
    <option value="gold">ğŸ¥‡ Gold</option>
    <option value="shocked">âš¡ Shocked</option>
    <option value="frozen">â„ï¸ Frozen</option>
    <option value="wet">ğŸ’§ Wet</option>
    <option value="chilled">ğŸ§Š Chilled</option>
    <option value="choc">ğŸ« Choc</option>
    <option value="moonlit">ğŸŒ™ Moonlit</option>
    <option value="bloodlit">ğŸ©¸ Bloodlit</option>
    <option value="celestial">âœ¨ Celestial</option>
    <option value="disco">ğŸª© Disco</option>
    <option value="zomb plasma">ğŸ§Ÿ Zomb Plasma</option>
  </select>

  <label for="weight">Weight (kg)</label>
  <input type="number" id="weight" step="0.01" placeholder="e.g. 0.42" />

  <button onclick="calculate()">ğŸ’° Calculate</button>
  <div class="result" id="price">Estimated Price: â€”</div>
  <button id="reportWrongBtn" style="display:none;">Report Wrong Price</button>
</div>

<script>
  // Your known price data
  const priceData = [
    {plant: "strawberry", modifiers: ["frozen"], weight: 0.25, price: 135},
    {plant: "dragonfruit", modifiers: ["moonlit","wet"], weight: 1, price: 12861},
    {plant: "strawberry", modifiers: ["wet"], weight: 0.26, price: 27},
    {plant: "strawberry", modifiers: [], weight: 0.23, price: 14},
    {plant: "dragonfruit", modifiers: ["wet"], weight: 12.56, price: 10414},
    {plant: "celestialberry", modifiers: [], weight: 2.13, price: 9040},
    {plant: "celestialberry", modifiers: ["wet"], weight: 2.30, price: 21123},
    {plant: "coconut", modifiers: ["shocked"], weight: 18.72, price: 71503},
    {plant: "coconut", modifiers: ["wet","shocked"], weight: 15.88, price: 51953},
    {plant: "coconut", modifiers: ["wet","gold"], weight: 18.83, price: 28944},
    {plant: "durian", modifiers: [], weight: 46.20, price: 166789},
    {plant: "cranberry", modifiers: ["disco","wet"], weight: 1.24, price: 384357},
    {plant: "glowshroom", modifiers: ["wet"], weight: 0.73, price: 574},
    {plant: "moonflower", modifiers: ["wet"], weight: 2.11, price: 21147},
    {plant: "mushroom", modifiers: ["frozen","shocked"], weight: 1, price: 14854248},
    {plant: "beanstalk", modifiers: ["wet"], weight: 12.86, price: 66152},
    {plant: "mango", modifiers: ["wet"], weight: 17.50, price: 17705},
    {plant: "blueberry", modifiers: ["wet"], weight: 0.22, price: 49},
    {plant: "blueberry", modifiers: ["wet","gold"], weight: 0.27, price: 1471},
    {plant: "blood banana", modifiers: ["wet"], weight: 1.95, price: 20374},
    {plant: "blood banana", modifiers: [], weight: 2.09, price: 11676},
    {plant: "corn", modifiers: ["wet"], weight: 2.49, price: 124},
    {plant: "apple", modifiers: ["wet"], weight: 3.36, price: 691},
    {plant: "tomato", modifiers: ["wet"], weight: 0.67, price: 109},
    {plant: "durian", modifiers: ["bloodlit","wet"], weight: 8.48, price: 28090},
    {plant: "durian", modifiers: ["celestial","wet"], weight: 8.81, price: 733382},
    {plant: "tomato", modifiers: [], weight: 0.68, price: 56},
    {plant: "mushroom", modifiers: ["choc","wet","shocked"], weight: 1, price: 100000},
  ];

  priceData.forEach(d => d.modifiers.sort());

  function arraysEqual(a,b) {
    if(a.length !== b.length) return false;
    for(let i=0; i<a.length; i++){
      if(a[i] !== b[i]) return false;
    }
    return true;
  }

  function findMatchingData(plant, modifiers) {
    modifiers = modifiers.slice().sort();
    return priceData.filter(d => d.plant === plant && arraysEqual(d.modifiers, modifiers));
  }

  function lerp(x0,y0,x1,y1,x){
    if(x1 === x0) return y0;
    return y0 + ((y1 - y0) * (x - x0)) / (x1 - x0);
  }

  function estimatePrice(plant, modifiers, weight) {
    const matches = findMatchingData(plant, modifiers);

    if(matches.length === 0){
      const baseMatches = findMatchingData(plant, []);
      if(baseMatches.length === 0){
        return null;
      } else {
        let totalPrice = 0, totalWeight = 0;
        baseMatches.forEach(m => {
          totalPrice += m.price;
          totalWeight += m.weight;
        });
        let avgPricePerKg = totalPrice / totalWeight;
        return avgPricePerKg * weight;
      }
    }

    matches.sort((a,b) => a.weight - b.weight);

    if(weight <= matches[0].weight)




ChatGPT said:
return matches[0].price;
if(weight >= matches[matches.length-1].weight) return matches[matches.length-1].price;

bash
Copy
Edit
for(let i=0; i<matches.length-1; i++){
  let w0 = matches[i].weight;
  let w1 = matches[i+1].weight;
  if(weight >= w0 && weight <= w1){
    return lerp(w0, matches[i].price, w1, matches[i+1].price, weight);
  }
}

return matches[0].price;
}

function calculate() {
const plant = document.getElementById("plant").value;
const modifiers = Array.from(document.getElementById("modifiers").selectedOptions).map(o => o.value);
let weight = parseFloat(document.getElementById("weight").value);

javascript
Copy
Edit
if(isNaN(weight) || weight <= 0){
  document.getElementById("price").textContent = "Please enter a valid weight.";
  return;
}

const matches = findMatchingData(plant, modifiers);
if(matches.length > 0){
  const minWeight = Math.min(...matches.map(m => m.weight));
  if(weight < minWeight){
    weight = minWeight;
  }
}

const price = estimatePrice(plant, modifiers, weight);

if(price === null){
  document.getElementById("price").textContent = "No data available for this combination.";
  document.getElementById("reportWrongBtn").style.display = "none";
} else {
  document.getElementById("price").textContent = `Estimated Price: $${price.toFixed(2)}`;
  document.getElementById("reportWrongBtn").style.display = "inline-block";
}
}
</script>

</body> </html>
